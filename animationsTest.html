<!DOCTYPE HTML>
<html>
  <head>
    <style>
      body {
        margin: 0px;
        padding: 0px;
      }
    </style>
  </head>
  <body>
    <div id="container"></div>
    <script src="js/kinetic-v4.5.4.min.js"></script>
    <script src="kineticjs-animations.js"></script>
    <script defer="defer">
      var stageWidth = document.documentElement.clientWidth/2;
      var stageHeight = document.documentElement.clientHeight/2;
      var stage = new Kinetic.Stage({
        container: 'container',
        width: stageWidth,
        height: stageHeight
      });
      var layer = new Kinetic.Layer();
      var contentsBGRect = null;

      function createAndAddNewRect() {
        contentsBGRect = new Kinetic.Rect({
          x: stageWidth/8,
          y: stageHeight/8,
          width: stageWidth/2,
          height: stageHeight/2,
          fill: 'red'
        });

        // add the shape to the layer
        layer.add(contentsBGRect);
        layer.draw();
      }
      createAndAddNewRect();

      // add the layer to the stage
      stage.add(layer);

      //rotateToFunction(layer, contentsBGRect, 360, 1000, null);
      // if period == 0. then unlimited action. and not running end function
      
      var defPeriod = 1000;

      function reset() {
        contentsBGRect.remove();
        createAndAddNewRect();
      }

      function runZoomAnimation() {
        zoomToAnimation(layer, contentsBGRect, 2, defPeriod, function() {
          zoomToAnimation(layer, contentsBGRect, 1, defPeriod, null);
        });
      }

      function runRotateToAnimation() {
        rotateToAnimation(layer, contentsBGRect, -90, defPeriod, null);
      }

      function runRotateByAnimation() {
        rotateByAnimation(layer, contentsBGRect, 90, defPeriod, null);
      }

      function runMoveAnimation() {
        moveToAnimation(layer, contentsBGRect, defPeriod, stageWidth/8, stageHeight/8, null);
      }

      function runFadeToAnimation() {
        fadeOutAnimation(layer, contentsBGRect, defPeriod, function() {
          fadeInAnimation(layer, contentsBGRect, defPeriod, null);
        });
      }

      function runBlinkAnimation() {
        blinkAnimation(layer, contentsBGRect, defPeriod, 200, null);
      }
    </script>
    <a href="javascript:runMoveAnimation();">[RUN MOVE]</a>  <a href="javascript:runFadeToAnimation();">[RUN FADE]</a>  <a href="javascript:runRotateToAnimation();">[RUN ROTATE TO]</a> <a href="javascript:runRotateByAnimation();">[RUN ROTATE BY]</a><p><a href="javascript:runZoomAnimation();">[RUN ZOOM]</a>  <a href="javascript:runBlinkAnimation();">[RUN BLINK]</a>
    <a href="javascript:reset();">[RESET]</a></p>
  </body>
</html>